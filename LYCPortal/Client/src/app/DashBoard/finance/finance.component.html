<div class="main">
  <section class="finance">
    <div class="mx-3 mt-3">
      <p class="h5 lyc-table-heading-font ms-2">Transactions</p>

      <div class="container">
        <div class="d-flex align-items-center">
          <label class="lyc-p-font-config me-2">Date from</label>
          <select class="form-select shadow-sm bg-white input-add-branch form-control fw-normal w-25" id=""
            aria-label="">
            <option selected>01-Aug-2022 08:00 AM</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
          </select>
          <label for="" class="lyc-p-font-config mx-2">Date to</label>

          <select class="form-select shadow-sm bg-white input-add-branch form-control fw-normal w-25" id=""
            aria-label="">
            <option selected>31-Aug-2022 10:00 PM</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
          </select>
          <div class="ms-2">
            <a href="#" class="lyc-p-font-config">
              <i class="fa fa-search" aria-hidden="true"></i>
            </a>
          </div>
        </div>
        <!-- Table  -->
        <div class="col-xl-10 mt-3">
          <button type="button" class="btn lyc-config-btn float-end mb-3" (click)="open(content)">
            Add
          </button>

          <!--  Modal -->
          <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header bg-dark">
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body bg-light outline-0">
                  <form action="">
                    <div class="row">
                      <div class="col-12">
                        <span class="text-secondary lyc-modal-font">Customer</span>
                        <select class="form-select shadow-sm bg-white text-secondary form-control w-75">
                          <option selected>John Dae</option>
                          <option value="1">Selection 1</option>
                          <option value="2">Selection 2</option>
                          <option value="3">Selection 3</option>
                        </select>
                      </div>
                      <!-- Item Type  -->
                      <div class="col-12 mt-2">
                        <span class="text-secondary lyc-modal-font">Item Type</span>
                        <div class="col-6 mt-2 d-flex">
                          <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1"
                              checked />
                            <label class="form-check-label lyc-modal-font text-secondary" for="flexRadioDefault1">
                              Debit
                            </label>
                          </div>
                          <div class="form-check ms-5">
                            <input class="form-check-input" type="radio" name="flexRadioDefault"
                              id="flexRadioDefault1" />
                            <label class="form-check-label lyc-modal-font text-secondary" for="flexRadioDefault1">
                              Credit
                            </label>
                          </div>
                        </div>
                      </div>
                      <!-- Item Name  -->
                      <div class="col-12 mt-2">
                        <span class="text-secondary lyc-modal-font">Item Name</span>
                      </div>
                      <div class="col-12 mt-2 d-flex justify-content-between">
                        <div class="form-check">
                          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1"
                            checked />
                          <label class="form-check-label lyc-modal-font text-secondary" for="flexRadioDefault1">
                            Services
                          </label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" />
                          <label class="form-check-label lyc-modal-font text-secondary" for="flexRadioDefault1">
                            Food
                          </label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" />
                          <label class="form-check-label lyc-modal-font text-secondary" for="flexRadioDefault1">
                            Products
                          </label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" />
                          <label class="form-check-label lyc-modal-font text-secondary" for="flexRadioDefault1">
                            Extension Stay
                          </label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" />
                          <label class="form-check-label lyc-modal-font text-secondary" for="flexRadioDefault1">
                            Other
                          </label>
                        </div>
                      </div>

                      <div class="col-12 mt-2">
                        <select class="form-select shadow-sm bg-white text-secondary form-control w-75">
                          <option selected>Essential Oil Massage</option>
                          <option value="1">Selection 1</option>
                          <option value="2">Selection 2</option>
                          <option value="3">Selection 3</option>
                        </select>
                      </div>

                      <div class="col-12 mt-2">
                        <span class="text-secondary lyc-modal-font">Qty</span>
                        <input type="text" class="form-control w-75 text-secondary" />
                      </div>
                      <div class="col-12 mt-2">
                        <span class="text-secondary lyc-modal-font">Cost</span>
                        <input type="text" class="form-control w-75 text-secondary" />
                      </div>

                      <!-- Footer  -->
                      <div class="col-12 mt-4">
                        <button type="button" class="btn lyc-config-btn">
                          Save
                        </button>

                        <button type="button" class="btn lyc-config-btn2  bg-dark" data-bs-dismiss="modal">
                          Cancel
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <table class="table lyc-table">
            <thead class="lyc-table-head">
              <tr>
                <th></th>
                <th>Item</th>
                <th>Customer</th>
                <th>Qty</th>
                <th>Type</th>
                <th>Cost</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of finaanceList">
                <td class="d-flex justify-content-between">
                  <a (click)="update(item,content)">
                    <i class="fa fa-pencil" aria-hidden="true"></i>
                  </a>
                  <a (click)="delete(item.financeId)">
                    <i class="fa fa-minus-circle" aria-hidden="true"></i>
                  </a>

                  <button type="button" class="btn p-0" data-bs-toggle="modal" data-bs-target="#exampleModal2">
                    <i class="fa fa-print" aria-hidden="true"></i>
                  </button>
                  <!--  Modal -->
                  <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                      <div class="modal-content">
                        <div class="modal-header bg-dark">
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body bg-light outline-0">
                          <div class="container">
                            <img src="../image/invoiceModal.jpg" width="350px" height="auto" class="mx-5" />
                            <!-- Footer  -->
                            <div class="col-12 mt-4">
                              <button type="button" class="btn lyc-config-btn" style="color: white !important">
                                Print
                              </button>

                              <button type="button" class="btn lyc-config-btn bg-dark" data-bs-dismiss="modal">
                                Cancel
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </td>
                <td>{{item.itemId}}</td>
                <td>{{item.userName}}</td>
                <td>{{item.qty}}</td>
                <td class="bg-success">{{item.itemType==1 ? 'Credit' : 'Debit' }}</td>
                <td>{{item.cost}}</td>
              </tr>

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>
</div>

<ng-template #content let-modal>
  <div class="modal-content">
    <div class="modal-header bg-dark">
    </div>
    <div class="modal-body bg-light outline-0">
      <form [formGroup]="appValForm">
        <div class="row">
          <div class="col-12">
            <span class="text-secondary lyc-modal-font">Customer</span>
            <select class="form-select shadow-sm bg-white text-secondary form-control w-75 mt-2"
              formControlName="userId">
              <option [value]="null" selected disabled>Select Customer</option>
              <option *ngFor="let user of userList" [value]="user.userId">{{user.userName}}</option>
            </select>
          </div>
          <!-- Item Type  -->
          <div class="col-12 mt-4">
            <span class="text-secondary lyc-modal-font">Item Type</span>
            <div class="d-flex">
              <div class="col-4 mt-2 d-flex justify-content-between">
                <div class="form-check" *ngFor="let accountItem of financeTypeList">
                  <input class="form-check-input" type="radio" name="accountItem.id" [value]="accountItem.id"
                    formControlName="accountsEntry" />
                  <label class="form-check-label lyc-modal-font text-secondary" for="flexRadioDefault1">
                    {{accountItem.value}}
                  </label>
                </div>
              </div>
              <label *ngIf="formSubmitted && f.accountsEntry.errors?.required" for="floatingInput"
                class="text-danger ms-3 mt-2">
                *Item Type is required
              </label>
            </div>
          </div>
          <!-- Item Name  -->
          <div class="col-12 mt-4">
            <span class="text-secondary lyc-modal-font">Item Name</span>
            <label *ngIf="formSubmitted && f.itemId.errors?.required" for="floatingInput" class="text-danger ms-3 mt-2">
              *Item Name is required
            </label>
          </div>
          <div class="col-12 mt-2 d-flex justify-content-between">
            <div class="form-check" *ngFor="let financeItem of financeItemTypeList">
              <input class="form-check-input" type="radio" [value]="financeItem?.id"
                (change)="selectedItem(financeItem?.id)" formControlName="itemId" />
              <label class="form-check-label lyc-modal-font text-secondary" for="flexRadioDefault1">
                {{financeItem.value}}
              </label>
            </div>
          </div>

          <div class="col-12 mt-3">
            <select class="form-select shadow-sm bg-white text-secondary form-control w-75" formControlName="itemType">
              <option [value]="null" selected disabled>Select Essential</option>
              <option *ngFor="let serviceItem of servicesList" [value]="serviceItem.serviceId">
                {{serviceItem.serviceName}}</option>
            </select>
            <label *ngIf="formSubmitted && f.itemId.errors?.required" for="floatingInput" class="text-danger ms-3 mt-2">
              *Please Select Essential
            </label>
          </div>

          <div class="col-12 mt-4">
            <span class="text-secondary lyc-modal-font">Qty</span>
            <input type="text" class="form-control w-75 text-secondary mt-2" formControlName="qty" />
            <label *ngIf="formSubmitted && f.qty.errors?.required" for="floatingInput" class="text-danger ms-3 mt-2">
              *Quantity is required
            </label>
          </div>
          <div class="col-12 mt-4">
            <span class="text-secondary lyc-modal-font">Cost</span>
            <input type="text" class="form-control w-75 text-secondary mt-2" formControlName="cost" />
            <label *ngIf="formSubmitted && f.cost.errors?.required" for="floatingInput" class="text-danger ms-3 mt-2">
              *Cost is required
            </label>
          </div>

          <!-- Footer  -->
          <div class="col-12 mt-4">
            <button type="button" class="btn lyc-config-btn" (click)="save()">
              Save
            </button>

            <button type="button" class="btn lyc-config-btn bg-dark ms-2" (click)="modal.close('Cancel click')">
              Cancel
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>

</ng-template>